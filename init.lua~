-- Pipes mod by VanessaE
-- 2012-06-12
--

-- Entirely my own code.  This mod merely supplies enough nodes to build 
-- a bunch of pipes in all directions and with all types of junctions.
--
-- License: WTFPL
--

local DEBUG = 1

-- Local Functions

local dbg = function(s)
	if DEBUG == 1 then
		print('[PIPES] ' .. s)
	end
end

-- Nodes

minetest.register_node("pipes:vertical", {
        description = "Pipe (vertical)",
        drawtype = "nodebox",
        tile_images = {"pipes_pipe_side_empty.png"},
        paramtype = "light",
--	paramtype2 = "facedir",
        selection_box = {
                type = "fixed",
		fixed = { -0.15, -0.5, -0.15, 0.15,  0.5, 0.15 },
        },
	node_box = {
		type = "fixed",
                fixed = {
			{ -0.15, -0.5 , -0.15, 0.15, -0.45, 0.15 },
			{ -0.1 , -0.45, -0.1 , 0.1 ,  0.45, 0.1  },
			{ -0.15,  0.45, -0.15, 0.15,  0.5 , 0.15 },	
		}
	},
        groups = {snappy=3},
        sounds = default.node_sound_wood_defaults(),
	walkable = true,
})

minetest.register_node("pipes:horizontal", {
        description = "Pipe (horizontal)",
        drawtype = "nodebox",
        tile_images = {"pipes_pipe_side_empty.png"},
        paramtype = "light",
	paramtype2 = "facedir",
        selection_box = {
                type = "fixed",
		fixed = { -0.5, -0.15, -0.15, 0.5, 0.15, 0.15 },
        },
	node_box = {
		type = "fixed",
                fixed = {
			{ -0.5 , -0.15, -0.15, -0.45, 0.15, 0.15 },
			{ -0.45, -0.1 , -0.1 ,  0.45, 0.1 , 0.1  },
			{  0.45, -0.15, -0.15,  0.5 , 0.15, 0.15 },
		}
	},
        groups = {snappy=3},
        sounds = default.node_sound_wood_defaults(),
	walkable = true,
})

print("[Pipes] Loaded!")
